<div class="search-forms">
  <mat-card class="address-search-form-wrap">
    <mat-card-title>
      Search by Address
    </mat-card-title>
    <form #f="ngForm" (ngSubmit)="onAddressSearch(f)" layout-align="center center">
      <mat-card-content>
        <mat-form-field>
          <input required [(ngModel)]="address" name="address" class="full-width" matInput #message maxlength="35" placeholder="Address">
          <mat-hint align="start"><strong>Search for a particular Bitcoin Address</strong> </mat-hint>
        </mat-form-field>


        <section class="heuristic-toggle-section">
          <mat-slide-toggle class="heuristic-toggle" name="inputHeuristicEnabled" [(ngModel)]="inputHeuristicEnabled">
            Input Address Clustering
          </mat-slide-toggle>
        </section>

        <div>
          <mat-slide-toggle name="neighbourTruncationEnabled" [(ngModel)]="neighbourTruncationEnabled">
            Limit number of neighbours rendered for each node (per relationship) <h5>
              <span class="badge badge-warning" *ngIf="!neighbourTruncationEnabled">UI Performance may seriously deterioate for nodes with many neighbours</span>
              <span *ngIf="neighbourTruncationEnabled"class="badge badge-secondary">{{truncateNeighboursCount}} Neighbours per node</span>
            </h5>
          </mat-slide-toggle>
        </div>
          
        <section class="neighbour-truncate-section">
            <mat-slider [disabled]="!neighbourTruncationEnabled" name="truncate-neighbour-slider" class="neighbour-truncate-slider" thumbLabel [thumbLabel]="thumbLabel" [(ngModel)]="truncateNeighboursCount" tickInterval="1" min="0" max="100"></mat-slider>
        </section>


      </mat-card-content>
      <mat-card-actions>
        <button type="submit" [disabled]="waitingOnResponse" mat-raised-button color="primary">Search</button>
      </mat-card-actions>
      <mat-error *ngIf="invalidAddress">{{errorMessage}}</mat-error>
      <section class="loading-section">
        <mat-progress-bar *ngIf="waitingOnResponse" color="primary" mode="indeterminate">
        </mat-progress-bar>
      </section>
    </form>
  </mat-card>
</div>
