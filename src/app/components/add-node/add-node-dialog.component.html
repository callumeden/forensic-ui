<mat-card>
  <div class="example-container">
    <mat-card-title>
      Add a new node
    </mat-card-title>
    <mat-form-field>
      <mat-label>Custom Node Type</mat-label>
      <mat-select [(value)]="selected">
        <mat-option *ngFor="let nodeType of nodeTypes" [value]="nodeType">
          {{nodeType.viewValue}}
        </mat-option>
      </mat-select>
    </mat-form-field>
   

    <form *ngIf="selected && selected.value == 'photo-id'" #f="ngForm" (ngSubmit)="addPhotoIdNode(f)" layout-align="center center">
      <mat-card-content>
        <mat-form-field>
          <input required [(ngModel)]="name" name="name" class="full-width" matInput #message maxlength="35" placeholder="Name of node">
        </mat-form-field>

        <div class="row upload-file-row">
          <div *ngIf="!uploadSuccess" class="custom-file col-md-10">
            <input type="file" class="custom-file-input" id="customFile" name="photo" ng2FileSelect [uploader]="uploader">
            <label class="custom-file-label" for="customFile">Choose file</label>
          </div>
          <div class="col-md-2">
            <button *ngIf="!uploadSuccess" type="button" class="btn btn-success btn-s" (click)="saveImage()" [disabled]="!uploader.getNotUploadedItems().length">
              Upload
            </button>
          </div>
        </div>

        <div *ngIf="uploadSuccess" class="alert alert-success" role="alert">
          Photo ID upload sucessful.
        </div>

        <mat-progress-bar class="space-above" *ngIf="uploading" color="primary" mode="indeterminate">
        </mat-progress-bar>
      </mat-card-content>
      <mat-card-actions>
        <button [disabled]="!uploadSuccess" type="submit" mat-raised-button color="accent">Add node {{selected.viewValue}}</button>
      </mat-card-actions>
    </form>
  </div>
</mat-card>
